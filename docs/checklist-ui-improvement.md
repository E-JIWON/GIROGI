# 체크리스트 UI 개선 방안

> 작성일: 2026-02-09
> 대상 파일: `src/app/checklist/page.tsx`, `src/components/checklist/ChecklistTimeSection.tsx`, `src/components/checklist/MealRecordButton.tsx`

---

## 현재 문제점

### 1. Tailwind 동적 클래스 버그 (Critical)

`ChecklistTimeSection.tsx`에서 색상 클래스를 문자열 보간으로 생성하고 있음:

```tsx
const colorClass = getMealTimeColor(mealTime); // "orange-500"
const bgColorClass = `bg-${colorClass}/10`;     // "bg-orange-500/10"
const textColorClass = `text-${colorClass}`;     // "text-orange-500"
```

Tailwind은 빌드 시점에 정적 분석으로 클래스를 추출하므로, **동적으로 조합된 클래스는 CSS에 포함되지 않음**. 체크박스 색상, 카운터 배지 색상이 모두 적용되지 않을 가능성 높음.

**해결**: 각 MealTime별 전체 클래스 문자열을 미리 정의해야 함.

### 2. When-Where-What 가독성 (High)

현재 렌더링 결과:
```
🕐 기상 후 에 📍 침실 에서 물 한 잔 마시기
```

문제점:
- 한 줄에 정보가 너무 많음 (시간 + 장소 + 행동 + 이모지)
- 조사("에", "에서")가 어색하게 띄어져 있음
- item.icon과 when/where 이모지(🕐, 📍)가 중복
- 체크리스트 항목인데 할 일(what)이 눈에 안 들어옴

**제안**: 2줄 레이아웃으로 변경
```
💧 물 한 잔 마시기          ← 1줄: 아이콘 + 할 일 (강조)
   기상 후 · 침실            ← 2줄: when · where (보조 텍스트, 작은 글씨)
```

### 3. 운동 섹션 enum 오류 (High)

```tsx
mealTime={MealTime.BREAKFAST} // TODO: MealTime enum에 EXERCISE 추가 필요
```

운동 섹션이 BREAKFAST enum을 사용하므로:
- 아이콘이 🌅 (아침)으로 표시됨
- 라벨이 "아침"으로 표시됨
- 운동 섹션인지 구분 불가

**해결**: `MealTime` enum에 `EXERCISE` 추가하거나, `ChecklistTimeSection`이 `sectionType` prop을 받도록 변경.

### 4. 하드코딩된 색상 (Medium)

`getMealTimeColor()`에서 디자인 시스템 외부 색상 사용:
- `orange-500` (아침) → 시스템에 없음
- `amber-500` (점심) → 시스템에 없음
- `purple-600` (저녁) → 시스템에 없음
- `pink-500` (간식) → 시스템에 없음

**해결**: 디자인 시스템 컬러로 매핑
| 시간대 | 현재 | 제안 |
|--------|------|------|
| 아침 | orange-500 | peach-600 |
| 점심 | amber-500 | primary-600 |
| 저녁 | purple-600 | info-600 |
| 운동 | blue-500 | success-600 |

### 5. 시간 인식 부재 (Medium)

4개 섹션이 모두 동일한 스타일로 나열됨. 현재 시간대와 무관하게 전부 같은 크기/강조.

**제안**:
- 현재 시간대 섹션을 시각적으로 강조 (배경색 변경 또는 "지금" 배지 추가)
- 완료된 시간대 섹션은 접혀 있거나 축소 표시
- 미래 시간대 섹션은 약간 흐리게

### 6. 전체 진행률 표시 없음 (Medium)

12개 항목 중 몇 개를 완료했는지 한눈에 알 수 없음.

**제안**: 헤더 영역에 전체 진행률 바 또는 "완료 N/12" 표시 추가.

### 7. MealRecordButton 디자인 불일치 (Low)

- `border` 클래스 사용 → 디자인 시스템 원칙(테두리 없음)과 충돌
- `bg-white` 사용 → 카드 배경은 `bg-neutral-100`이어야 함
- `hover:shadow-md` 사용 → 디자인 시스템 원칙(그림자 없음)과 충돌

**해결**: border/shadow 제거, 배경색으로만 상태 구분.

### 8. 사용자 커스터마이징 불가 (Low)

CLAUDE.md에 "사용자 커스터마이징 가능"이 명시되어 있으나, 체크리스트 항목이 컴포넌트 내부에 하드코딩됨. 백엔드 연동 시 함께 해결 필요.

---

## 개선 우선순위

| 순위 | 항목 | 난이도 | 영향도 |
|------|------|--------|--------|
| 1 | Tailwind 동적 클래스 버그 수정 | 낮음 | 높음 |
| 2 | When-Where-What 2줄 레이아웃 | 중간 | 높음 |
| 3 | 운동 섹션 enum 수정 | 낮음 | 높음 |
| 4 | 하드코딩 색상 → 시스템 컬러 | 낮음 | 중간 |
| 5 | 현재 시간대 강조 | 중간 | 중간 |
| 6 | 전체 진행률 바 추가 | 낮음 | 중간 |
| 7 | MealRecordButton 디자인 정리 | 낮음 | 낮음 |

---

## 레이아웃 개선안 (Before → After)

### Before (현재)
```
┌─────────────────────────────────────┐
│ 🌅  아침                      2/3   │
│                                     │
│ ☑ 💧 🕐 기상 후 에 📍 침실 에서    │
│      물 한 잔 마시기                │
│ ☑ ⚖️ 🕐 아침 식사 전 에 📍 화장실  │
│      에서 체중 측정하기             │
│ ☐ 🧘 🕐 아침 시간 에 📍 거실 에서  │
│      스트레칭 5분                   │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 🍽  아침 기록 완료    상세 보기 >│ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### After (제안)
```
┌─────────────────────────────────────┐
│  오늘의 체크리스트         4 / 12   │
│  ████████░░░░░░░░░░░░  33%         │
└─────────────────────────────────────┘

┌─ 지금 ─────────────────────────────┐
│ 🌅  아침                      2/3   │
│                                     │
│ ✅ 💧 물 한 잔 마시기               │
│       기상 후 · 침실                │
│ ✅ ⚖️ 체중 측정하기                 │
│       아침 식사 전 · 화장실         │
│ ☐  🧘 스트레칭 5분                  │
│       아침 시간 · 거실              │
│                                     │
│  🍽  아침 기록 완료                  │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ ☀️  점심                      0/3   │
│ ...                                 │
└─────────────────────────────────────┘
```

핵심 변경:
1. 할 일(what)이 1줄에 크게 표시
2. when · where는 2줄에 작은 보조 텍스트
3. 현재 시간대에 "지금" 배지 + 약간 다른 배경
4. 헤더에 전체 진행률 바
5. MealRecordButton이 섹션 내부에 자연스럽게 통합
